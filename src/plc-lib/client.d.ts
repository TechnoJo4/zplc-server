import { Keypair } from '@atproto/crypto';
import { AxiosError } from 'axios';
import * as t from './types';
export declare class Client {
    url: string;
    constructor(url: string);
    private makeGetReq;
    getDocument(did: string): Promise<t.DidDocument>;
    getDocumentData(did: string): Promise<t.DocumentData>;
    getOperationLog(did: string): Promise<t.CompatibleOpOrTombstone[]>;
    getAuditableLog(did: string): Promise<t.ExportedOp[]>;
    postOpUrl(did: string): string;
    getLastOp(did: string): Promise<t.CompatibleOpOrTombstone>;
    sendOperation(did: string, op: t.OpOrTombstone): Promise<void>;
    export(after?: string, count?: number): Promise<t.ExportedOp[]>;
    createDid(opts: {
        signingKey: string;
        handle: string;
        pds: string;
        rotationKeys: string[];
        signer: Keypair;
    }): Promise<string>;
    ensureLastOp(did: any): Promise<{
        type: "create";
        signingKey: string;
        recoveryKey: string;
        handle: string;
        service: string;
        prev: null;
        sig: string;
    } | {
        type: "plc_operation";
        rotationKeys: string[];
        verificationMethods: Record<string, string>;
        alsoKnownAs: string[];
        services: Record<string, {
            type: string;
            endpoint: string;
        }>;
        prev: string | null;
        sig: string;
    }>;
    updateData(did: string, signer: Keypair, fn: (lastOp: t.UnsignedOperation) => Omit<t.UnsignedOperation, 'prev'>): Promise<void>;
    updateAtprotoKey(did: string, signer: Keypair, atprotoKey: string): Promise<void>;
    updateHandle(did: string, signer: Keypair, handle: string): Promise<void>;
    updatePds(did: string, signer: Keypair, endpoint: string): Promise<void>;
    updateRotationKeys(did: string, signer: Keypair, keys: string[]): Promise<void>;
    tombstone(did: string, signer: Keypair): Promise<void>;
    health(): Promise<any>;
}
export declare class PlcClientError extends Error {
    status: number;
    data: unknown;
    message: string;
    constructor(status: number, data: unknown, message: string);
    static fromAxiosError(err: AxiosError): PlcClientError;
}
export default Client;
